# Comandos Úteis

## Instalação dos pacotes de teste

<details>

- Verifique se os pacotes `pytest` e/ou `pytest-testdox` estão instalados globalmente em seu sistema:

```shell
pip list
```

- Caso seja listado o `pytest` e/ou `pytest-testdox` e/ou `pytest-django` em seu ambiente global, utilize os seguintes comando para desinstalá-los globalmente:

```shell
pip uninstall pytest
```

```shell
pip uninstall pytest-testdox
```

```shell
pip uninstall pytest-django
```

## A partir disso, prossiga com os passos:

1. Crie seu ambiente virtual:

```bash
python -m venv venv
```

2. Ative seu venv:

```bash
# Linux:
source venv/bin/activate

# Windows (Powershell):
.\venv\Scripts\activate

# Windows (Git Bash):
source venv/Scripts/activate
```

3. Instale o pacote `pytest-testdox`:

```shell
pip install pytest-testdox pytest-django
```

4. Agora é só rodar os testes no diretório principal do projeto:

```shell
pytest --testdox -vvs
```

5. Caso queira um log mais resumido, basta executar com os testes sem as flags **verbose**:

```shell
pytest --testdox
```

</details>

</br>

## 🧪 Testes

<details>
  
## <summary>Rodando os testes por partes</summary>
  
Caso você tenha interesse em rodar apenas um diretório de testes específico, pode utilizar o comando:

- Rodando testes de users:

```python
pytest --testdox -vvs tests/test1/
```

- Rodando testes de test2:

```python
pytest --testdox -vvs tests/test2/
```

- Rodando testes de test3:

```python
pytest --testdox -vvs tests/test3/
```

</details>

</br>

## 🔧 Comandos Úteis

<details>

Abrir Shell nativo Django

```shell
python manage.py shell
```

Instalar Django

```shell
pip install django
```

Instalar Django Rest Framework

```shell
pip install djangorestframework
```

Inicializar Projeto Django

```shell
django-admin startproject nome_do_projeto
```

Inicializar App Django

```shell
python manage.py startapp nome_do_app
```

Salvar requirements

```shell
pip freeze > requirements.txt
```

Instalar requirements

```shell
pip install -r requirements.txt
```

Desinstalar Pakage Global

```shell
pip uninstall -r requirements.txt -y
```

Atualizar Dependências requirements

```shell
pip install upgrade-requirements

upgrade-requirements
```

Criar Migrations

```shell
python manage.py makemigrations
```

Rodar Migrations

```shell
python manage.py migrate
```

Server Start

```shell
python manage.py runserver
```

Deletar db.sqlite

```shell
rm db.sqlite3
```

Limpar migrations

```shell
rm */migrations/0*
```

</details>

</br>

## Python Command Aliases

<details>

```shell
- runserverpy='python manage.py runserver'
- pmmigre='python manage.py makemigrations'
- pmigre='python manage.py migrate'
- pzmigre='rm */migrations/0*'
- pflush='python manage.py flush'
- pvenv='python -m venv venv'
- svenv='python -m venv venv; source venv/Scripts/activate'
- runtest='pytest --testdox -vvs'
- pshell='python manage.py shell'
- djangostart='django-admin startproject'
- djangospp='python manage.py startapp'
- pfr='pip freeze > requirements.txt'
- pir='pip install -r requirements.txt; python.exe -m pip install --upgrade pip'
- pdelsql='rm db.sqlite3'
```

## Git Command Aliases

```shell
- gcheck='git checkout -b'
- gcheckm='git checkout main'
- gcheckd='git checkout develop'
- gmain='git push origin main'
- gdev='git push origin develop'
- gpush='git push origin'
- gadd='git add .'
- gcomm='git commit -m'
- gamend='git commit --amend -m'
```

</details>

</br>

## Contribuidores:

<details>

<table>
  <tr>
    <td align="center"><a href="https://github.com/toledomg"><img style="border-radius: 50%;" src="https://avatars.githubusercontent.com/u/5280561?s=96&v=4" width="100px;" alt=""/><br /><sub><b>Alexsandro Toledo</b></sub></a><br /><a href="https://github.com/toledomg/" title="Rocketseat">👨‍🚀</a></td>
  </tr>
</table>
```
